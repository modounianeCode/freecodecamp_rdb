\c
\d
CREATE DATABASE universe;
\c universe ;
\d
ALTER TABLE galaxy ADD COLUMN galaxy_id SERIAL PRIMARY KEY;
\d galaxy
ALTER TABLE galaxy DELETE name;
ALTER TABLE galaxy DROP name;
\d galaxy
ALTER TABLE galaxy ADD COLUMN name TEXT, galaxy_type VARCHAR(50);
ALTER TABLE galaxy ADD COLUMN name TEXT,ADD COLUMN galaxy_type VARCHAR(50);
\d galaxy
ALTER TABLE galaxy ADD COLUMN is_spherical BOOLEAN,ADD COLUMN distance_light_years INT);
ALTER TABLE galaxy ADD COLUMN is_spherical BOOLEAN,ADD COLUMN distance_light_years INT;
\d galaxy
ALTER TABLE star ADD COLUMN star_id SERIAL PRIMARY KEY,ADD COLUMN name TEXT,ADD COLUMN star_type TEXT,mass NUMERIC,ADD COLUMN galaxy_id REFERENCES galaxy_id;
ALTER TABLE star ADD COLUMN star_id SERIAL PRIMARY KEY,ADD COLUMN name TEXT,ADD COLUMN star_type TEXT,ADD COLUMN mass NUMERIC,ADD COLUMN galaxy_id REFERENCES galaxy_id;
ALTER TABLE star ADD COLUMN star_id SERIAL PRIMARY KEY,ADD COLUMN name TEXT,ADD COLUMN star_type TEXT,ADD COLUMN mass NUMERIC(5,2),ADD COLUMN galaxy_id REFERENCES galaxy_id;
ALTER TABLE star ADD COLUMN star_id SERIAL PRIMARY KEY,ADD COLUMN name TEXT,ADD COLUMN star_type TEXT,ADD COLUMN mass NUMERIC(5,2);
\d star 
ALTER TABLE star ADD 
ALTER TABLE star ADD COLUMN star_id SERIAL PRIMARY KEY,ADD COLUMN name TEXT,ADD COLUMN star_type TEXT,ADD COLUMN mass NUMERIC(5,2);
\d star 
ALTER TABLE star ADD COLUMN galaxy_id REFERENCES galaxy(galaxy_id);
ALTER TABLE star ADD COLUMN galaxy_id INT REFERENCES galaxy(galaxy_id);
\d star 
ALTER TABLE planet ADD COLUMN planet_id SERIAL PRIMARY KEY,ADD COLUMN name TEXT,ADD COLUMN planet_type VARCHAR(50),ADD COLUMN has_life BOOLEAN,ADD COLUMN star_id INT REFERENCES planet(planet_id);
ALTER TABLE planet DROP name;
ALTER TABLE planet ADD COLUMN planet_id SERIAL PRIMARY KEY,ADD COLUMN name TEXT,ADD COLUMN planet_type VARCHAR(50),ADD COLUMN has_life BOOLEAN,ADD COLUMN star_id INT REFERENCES planet(planet_id);
\d planet
ALTER TABLE moon DROP name;
ALTER TABLE moon ADD COLUMN moon_id SERIAL PRIMARY KEY,ADD COLUMN name TEXT,ADD COLUMN diameter_km INT,ADD COLUMN orbital_period INT ,ADD COLUMN planet_id INT REFERENCES planet(planet_id);
\d moon2
\d galaxy
\d star
\d planet
\d moon
CREATE TABLE astronomer(astronomer_id SERIAL PRIMARY KEY,name VARCHAR(50),nationality VARCHAR(50),birth_year INT,famous BOOLEAN);
\d galaxy
INSERT INTO galaxy (name ,galaxy_type,is_spherical,distance_light_years) VALUES('Voie lactee','spirale','yes',0),('Andromede','spirale','no',250000),('sombrero','spirale','yes',10000);
\d planet
ALTER TABLE planet DROP CONSTRAINT planet_star_id_fkey ;
\d planet
ALTER TABLE planet DROP CONSTRAINT moon_planet_id_fkey;
\d star
\d planet
ALTER TABLE planet ADD CONSTRAINT star_id REFERENCES star(star_id);
ALTER TABLE planet ADD CONSTRAINT star_id INT REFERENCES star(star_id);
ALTER TABLE planet ADD CONSTRAINT star_id  REFERENCES star(star_id);
ALTER TABLE planet ADD CONSTRAINT fk_planet_star FOREIGN KEY(star_id)  REFERENCES star(star_id);
\d planet
\d moon
SELECT * FROM galaxy;
\d star
INSERT INTO star (name ,star_type,mass,galaxy_id) VALUES('soleil','naine jaune',1.0,1),('Proxima','naine rouge',0.12,2),('sombrero X','naine blanche',0.8,3);
SELECT * FROM star;
\d planet
INSERT INTO planet (name ,planet_type,has_life,star_id) VALUES('mercure','tellurique','f',1),('terre','tellurique','t'1),('Andro X','gazeuse','f',3);
INSERT INTO planet (name ,planet_type,has_life,star_id) VALUES('mercure','tellurique','f',1),('terre','tellurique','t',1),('Andro X','gazeuse','f',3);
SELECT * FROM planet;
\d moon
INSERT INTO moon (name ,diameter_km,orbital_period,planet_id) VALUES('lune',374,27.3,2),('Io',3643,1.8,3),('Euroe',3122,3.5,3);
SELECT * FROM moon;
SELECT * FROM galaxy;
SELECT * FROM star;
SELECT * FROM planet;
SELECT * FROM moon;
INSERT INTO galaxy (name ,galaxy_type,is_spherical,distance_light_years) VALUES('Voie lacteeX','spirale','yes',0),('AndromedeX','spirale','no',250000),('sombreroX','spirale','yes',100000);
INSERT INTO star (name ,star_type,mass,galaxy_id) VALUES('soleil','naine jaune',11.0,1),('Proxima','naine rouge',24.12,2),('sombrero X','naine blanche',14.8,3);
INSERT INTO planet (name ,planet_type,has_life,star_id) VALUES('mars','tellurique','f',1),('venus','tellurique','t',1),('Saturne','gazeuse','f',4);
SELECT * FROM planet;
INSERT INTO planet (name ,planet_type,has_life,star_id) VALUES('marsY','tellurique','f',6),('venusX','tellurique','t',1),('jupiter','gazeuse','f',5);
INSERT INTO planet (name ,planet_type,has_life,star_id) VALUES('mercureZ','tellurique','f',5),('neptune','gazeuse','t',1),('uranus','gazeuse','f',6);
SELECT * FROM moon;
INSERT INTO moon (name ,diameter_km,orbital_period,planet_id) VALUES('luneX',374,27.3,2),('IoX',3643,1.8,3),('EuroeX',3122,3.5,3);
INSERT INTO moon (name ,diameter_km,orbital_period,planet_id) VALUES('luneY',374,27.3,2),('IoY',3643,1.8,3),('EuroeY',3122,3.5,3);
INSERT INTO moon (name ,diameter_km,orbital_period,planet_id) VALUES('luneZ',374,27.3,2),('IoZ',3643,1.8,3),('EuroeZ',3122,3.5,3);
INSERT INTO moon (name ,diameter_km,orbital_period,planet_id) VALUES('luneR',374,27.3,2),('IoO',3643,1.8,3),('EuroeP',3122,3.5,3);
SELECT * FROM moon;
INSERT INTO moon (name ,diameter_km,orbital_period,planet_id) VALUES('luneE',374,27.3,2),('IoN',3643,1.8,3),('EuroeU',3122,3.5,3);
INSERT INTO moon (name ,diameter_km,orbital_period,planet_id) VALUES('lune78',374,27.3,2),('I5oN',3643,1.8,3),('Euroe7',3122,3.5,3);
SELECT * FROM moon;
\d galaxy
ALTER TABLE galaxy ADD CONSTRAINT NOT NULL name;
ALTER TABLE galaxy ADD CONSTRAINT  name NOT NULL;
ALTER TABLE galaxy ADD CONSTRAINT  name TEXT NOT NULL;
ALTER TABLE galaxy ADD COLUMN name SET NOT NULL;
ALTER TABLE galaxy ADD COLUMN name TEXT SET NOT NULL;
ALTER TABLE galaxy ADD COLUMN name TEXT NOT NULL;
ALTER TABLE galaxy ALTER COLUMN name TEXT NOT NULL;
ALTER TABLE galaxy ALTER COLUMN name SET NOT NULL;
ALTER TABLE planet ALTER COLUMN name SET NOT NULL;
ALTER TABLE star ALTER COLUMN name SET NOT NULL;
ALTER TABLE moon ALTER COLUMN name SET NOT NULL;
\d galaxy
\d star
\d planet
\d moon
ALTER TABLE moon ALTER COLUMN name SET UNIQUE;
ALTER TABLE galaxy ADD CONSTRAINT unique_galaxy_name UNIQUE(name);
ALTER TABLE star ADD CONSTRAINT unique_star_name UNIQUE(name);
ALTER TABLE star ADD CONSTRAINT unique_star_name UNIQUE(mass);
ALTER TABLE planet ADD CONSTRAINT unique_star_name UNIQUE(name);
ALTER TABLE planet ADD CONSTRAINT unique_planet_name UNIQUE(name);
ALTER TABLE moon ADD CONSTRAINT unique_moon_name UNIQUE(name);
\d moon
\d galaxy
\d star
\d planet
\d moon
ALTER TABLE galaxy ALTER COLUMN is_spherical SET NOT NULL;
ALTER TABLE astronomer ALTER COLUMN name SET NOT NULL;
ALTER TABLE planet ALTER COLUMN planet_type SET NOT NULL;
ALTER TABLE moon ALTER COLUMN diameter_km SET NOT NULL;
ALTER TABLE galaxy ALTER COLUMN name TEXT VARCHAR(50);
ALTER TABLE galaxy ALTER COLUMN name text VARCHAR(50);
ALTER TABLE galaxy ALTER COLUMN name TEXT VARCHAR(50);
ALTER TABLE galaxy ALTER COLUMN name TYPE VARCHAR(50);
ALTER TABLE star ALTER COLUMN name TYPE VARCHAR(50);
ALTER TABLE planet ALTER COLUMN name TYPE VARCHAR(50);
ALTER TABLE moon ALTER COLUMN name TYPE VARCHAR(50);
\d astronomer
INSERT INTO astronomer (name ,nationality,birth_year,famous) VALUES('galile','italien',156.3,'t'),('Maram kaire','senegalese',1980,'t'),('copernic','polonais',1473,'t');
ALTER TABLE astronomer ALTER COLUMN name SET NOT NULL;
ALTER TABLE astronomer ALTER COLUMN famous SET NOT NULL;
ALTER TABLE astronomer ADD CONSTRAINT unique_astro_name UNIQUE(name);
SELECT * FROM galaxy;
SELECT * FROM star;
SELECT * FROM planet;
SELECT * FROM moon;
SELECT * FROM astronomer;
